import{$ as n,f as l,g as y,h as u,i as b,j as i,ka as a,l as s,la as p}from"./chunk-EPVYEA6G.js";var m=class r extends p{constructor(e){super(a.apiUrl,"users",e);this.http=e}register(e){return this.post(e)}getUsers(e){return this.get("",e)}removeAdmin(e){return this.delete(e)}getProfilePicture(e){return this.get(`/${e}/picture`)}updateProfilePicture(e,o){return this.patch(o,`/${e}/picture`)}static \u0275fac=function(o){return new(o||r)(s(n))};static \u0275prov=i({token:r,factory:r.\u0275fac,providedIn:"root"})};var c=class r extends p{constructor(e){super(a.apiUrl,"me/imOwner",e);this.http=e}userHasCompany(){return this.get().pipe(y(e=>e.data.isOwner))}static \u0275fac=function(o){return new(o||r)(s(n))};static \u0275prov=i({token:r,factory:r.\u0275fac,providedIn:"root"})};var g=class r{constructor(t,e){this.userRepository=t;this.meCompanyRepostory=e}hasCompany=!1;register(t,e,o,O,v){return this.userRepository.register({Name:t,LastName:e,Email:o,Password:O,Role:v}).pipe(u(f=>(f.status===0&&console.error("No se pudo establecer la conexi\xF3n con el servidor"),l(f))))}getUsers(t){return this.userRepository.getUsers(t).pipe(b(e=>{}),u(e=>(e.status===0&&console.error("No se pudo establecer la conexi\xF3n con el servidor"),l(e))))}removeAdmin(t){return this.userRepository.removeAdmin(t)}loadHasCompany(){return this.meCompanyRepostory.userHasCompany().pipe(b(t=>{this.hasCompany=t}))}userHasCompany(){return this.hasCompany}getProfilePicture(t){return this.userRepository.getProfilePicture(t)}updateProfilePicture(t,e){return this.userRepository.updateProfilePicture(t,e)}getDefaultProfilePicture(){return"https://www.w3schools.com/howto/img_avatar.png"}static \u0275fac=function(e){return new(e||r)(s(m),s(c))};static \u0275prov=i({token:r,factory:r.\u0275fac,providedIn:"root"})};export{g as a};
